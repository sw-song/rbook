<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Data Preprocessing | R Note</title>
  <meta name="description" content="It’s R quick guide for anyone who start to study R" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Data Preprocessing | R Note" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="It’s R quick guide for anyone who start to study R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Data Preprocessing | R Note" />
  
  <meta name="twitter:description" content="It’s R quick guide for anyone who start to study R" />
  

<meta name="author" content="Seungwon Song" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exploratory-data-analysis.html"/>
<link rel="next" href="references.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">R Note</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Intro to R</a></li>
<li class="chapter" data-level="1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>1</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#head-and-tail"><i class="fa fa-check"></i><b>1.1</b> head and tail</a></li>
<li class="chapter" data-level="1.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#dim-and-str"><i class="fa fa-check"></i><b>1.2</b> dim and str</a></li>
<li class="chapter" data-level="1.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#summary"><i class="fa fa-check"></i><b>1.3</b> summary</a></li>
<li class="chapter" data-level="1.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#table"><i class="fa fa-check"></i><b>1.4</b> table</a></li>
<li class="chapter" data-level="1.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#qplot"><i class="fa fa-check"></i><b>1.5</b> qplot</a></li>
<li class="chapter" data-level="1.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#hist"><i class="fa fa-check"></i><b>1.6</b> hist</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-preprocessing.html"><a href="data-preprocessing.html"><i class="fa fa-check"></i><b>2</b> Data Preprocessing</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-preprocessing.html"><a href="data-preprocessing.html#ifelse"><i class="fa fa-check"></i><b>2.1</b> ifelse</a></li>
<li class="chapter" data-level="2.2" data-path="data-preprocessing.html"><a href="data-preprocessing.html#dplyr-mutate"><i class="fa fa-check"></i><b>2.2</b> dplyr :: mutate</a></li>
<li class="chapter" data-level="2.3" data-path="data-preprocessing.html"><a href="data-preprocessing.html#dplyr-filter"><i class="fa fa-check"></i><b>2.3</b> dplyr :: filter</a></li>
<li class="chapter" data-level="2.4" data-path="data-preprocessing.html"><a href="data-preprocessing.html#dplyr-select"><i class="fa fa-check"></i><b>2.4</b> dplyr :: select</a></li>
<li class="chapter" data-level="2.5" data-path="data-preprocessing.html"><a href="data-preprocessing.html#dplyr-arrange"><i class="fa fa-check"></i><b>2.5</b> dplyr :: arrange</a></li>
<li class="chapter" data-level="2.6" data-path="data-preprocessing.html"><a href="data-preprocessing.html#dplyr-summarise"><i class="fa fa-check"></i><b>2.6</b> dplyr :: summarise</a></li>
<li class="chapter" data-level="2.7" data-path="data-preprocessing.html"><a href="data-preprocessing.html#dplyr-left_join"><i class="fa fa-check"></i><b>2.7</b> dplyr :: left_join</a></li>
<li class="chapter" data-level="2.8" data-path="data-preprocessing.html"><a href="data-preprocessing.html#dplyr-right_join"><i class="fa fa-check"></i><b>2.8</b> dplyr :: right_join</a></li>
<li class="chapter" data-level="2.9" data-path="data-preprocessing.html"><a href="data-preprocessing.html#dplyr-inner_join"><i class="fa fa-check"></i><b>2.9</b> dplyr :: inner_join</a></li>
<li class="chapter" data-level="2.10" data-path="data-preprocessing.html"><a href="data-preprocessing.html#dplyr-full_join"><i class="fa fa-check"></i><b>2.10</b> dplyr :: full_join</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/sw-song/rbook" target="blank">R Note - Github</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Note</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-preprocessing" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Data Preprocessing</h1>
<p>While exploring data, we need to preprocess it properly for our purpose.
And these work can be repeat until we construct a dataset that can make our probabilistic model well.</p>
<div id="ifelse" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> ifelse</h2>
<p><code>ifelse</code> is <code>Conditional Statments function</code> that is very simple and useful in R. We can use this with just 3 parameters - condition, return value when it’s true, return value when it’s false.</p>
<p>let’s see example code.</p>
<p>first, print the head of dataset</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="data-preprocessing.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mpg<span class="sc">$</span>hwy)</span></code></pre></div>
<pre><code>## [1] 29 29 31 30 26 26</code></pre>
<p>And let’s apply ifelse to this head.
if the hwy(highway fuel efficiency) is higher than 30, returns ‘Good.’</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="data-preprocessing.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(<span class="fu">head</span>(mpg<span class="sc">$</span>hwy) <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="st">&#39;Good&#39;</span>, <span class="st">&#39;Bad&#39;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Good&quot; &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;</code></pre>
<p>We can use this data by assign method(<code>&lt;-</code>). Let’s Control Entire variable.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="data-preprocessing.html#cb49-1" aria-hidden="true" tabindex="-1"></a>evaluate_hwy <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(mpg<span class="sc">$</span>hwy <span class="sc">&gt;</span> <span class="dv">30</span>, <span class="st">&#39;Good&#39;</span>, <span class="st">&#39;Bad&#39;</span>)</span>
<span id="cb49-2"><a href="data-preprocessing.html#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(evaluate_hwy)</span></code></pre></div>
<pre><code>##   [1] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Good&quot; &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
##  [11] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
##  [21] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
##  [31] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
##  [41] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
##  [51] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
##  [61] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
##  [71] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
##  [81] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
##  [91] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Good&quot;
## [101] &quot;Good&quot; &quot;Good&quot; &quot;Bad&quot;  &quot;Good&quot; &quot;Good&quot; &quot;Good&quot; &quot;Good&quot; &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
## [111] &quot;Bad&quot;  &quot;Good&quot; &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
## [121] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
## [131] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
## [141] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Good&quot; &quot;Good&quot; &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
## [151] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
## [161] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
## [171] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
## [181] &quot;Bad&quot;  &quot;Good&quot; &quot;Good&quot; &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Good&quot; &quot;Good&quot;
## [191] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Good&quot; &quot;Good&quot; &quot;Good&quot; &quot;Good&quot; &quot;Bad&quot;  &quot;Bad&quot; 
## [201] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
## [211] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Good&quot; &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
## [221] &quot;Bad&quot;  &quot;Good&quot; &quot;Good&quot; &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot; 
## [231] &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;  &quot;Bad&quot;</code></pre>
<p>Then, Why is this necessary?</p>
<p>Sometimes we need categorical data(nominal data or ordinal data) for not only visualization but also data handling. Especially, We do not always get gaussian distribution dataset, so since the data is not uniform, it is necessary to divide it into appropriate intervals.</p>
<p>We can use this function to not only create new variable but also add another column.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="data-preprocessing.html#cb51-1" aria-hidden="true" tabindex="-1"></a>df_mpg <span class="ot">&lt;-</span> mpg</span>
<span id="cb51-2"><a href="data-preprocessing.html#cb51-2" aria-hidden="true" tabindex="-1"></a>df_mpg[<span class="st">&#39;eval_hwy&#39;</span>] <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(df_mpg<span class="sc">$</span>hwy<span class="sc">&gt;</span><span class="dv">30</span>, <span class="st">&#39;High&#39;</span>, <span class="st">&#39;Low&#39;</span>)</span>
<span id="cb51-3"><a href="data-preprocessing.html#cb51-3" aria-hidden="true" tabindex="-1"></a>df_mpg<span class="sc">$</span>eval_hwy</span></code></pre></div>
<pre><code>##   [1] &quot;Low&quot;  &quot;Low&quot;  &quot;High&quot; &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
##  [11] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
##  [21] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
##  [31] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
##  [41] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
##  [51] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
##  [61] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
##  [71] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
##  [81] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
##  [91] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;High&quot;
## [101] &quot;High&quot; &quot;High&quot; &quot;Low&quot;  &quot;High&quot; &quot;High&quot; &quot;High&quot; &quot;High&quot; &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
## [111] &quot;Low&quot;  &quot;High&quot; &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
## [121] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
## [131] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
## [141] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;High&quot; &quot;High&quot; &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
## [151] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
## [161] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
## [171] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
## [181] &quot;Low&quot;  &quot;High&quot; &quot;High&quot; &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;High&quot; &quot;High&quot;
## [191] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;High&quot; &quot;High&quot; &quot;High&quot; &quot;High&quot; &quot;Low&quot;  &quot;Low&quot; 
## [201] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
## [211] &quot;Low&quot;  &quot;Low&quot;  &quot;High&quot; &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
## [221] &quot;Low&quot;  &quot;High&quot; &quot;High&quot; &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot; 
## [231] &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;  &quot;Low&quot;</code></pre>
</div>
<div id="dplyr-mutate" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> dplyr :: mutate</h2>
<p>In R, <code>dplyr</code> package is the most popular library for data preprocessing. Especially it provides pipe(‘%&gt;%’), and it’s very helpful for intuitive coding. And <code>mutate</code> in <code>dplyr</code> package do exactly same work as the one above, However it is simpler and easier to use. Let’s see this.</p>
<p>(before load, you have to install “dplyr” package)</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="data-preprocessing.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;dplyr&quot;) </span></span>
<span id="cb53-2"><a href="data-preprocessing.html#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="data-preprocessing.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_mpg)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 12
##   manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class 
##   &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 
## 1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compa…
## 2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compa…
## 3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compa…
## 4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compa…
## 5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compa…
## 6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compa…
## # … with 1 more variable: eval_hwy &lt;chr&gt;</code></pre>
<p>We’ll use <code>mutate</code> function and <code>pipe</code> syntex to handle <code>cty</code>(city fuel economy) column.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="data-preprocessing.html#cb59-1" aria-hidden="true" tabindex="-1"></a>df_mpg <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="data-preprocessing.html#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_fuel =</span> (cty <span class="sc">+</span> hwy)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="data-preprocessing.html#cb59-3" aria-hidden="true" tabindex="-1"></a>  head</span></code></pre></div>
<pre><code>## # A tibble: 6 x 13
##   manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class 
##   &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 
## 1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compa…
## 2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compa…
## 3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compa…
## 4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compa…
## 5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compa…
## 6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compa…
## # … with 2 more variables: eval_hwy &lt;chr&gt;, mean_fuel &lt;dbl&gt;</code></pre>
<p>We can see the last column is added and named with <code>mean_fuel</code>. We didn’t have to use the name of dataframa(df_mpg) repeatly to use columns. It’s very nice.</p>
<p>And of course we can use <code>ifelse</code> function with the <code>pipe</code> and <code>mutate</code>.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="data-preprocessing.html#cb61-1" aria-hidden="true" tabindex="-1"></a>df_mpg <span class="sc">%&gt;%</span></span>
<span id="cb61-2"><a href="data-preprocessing.html#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_fuel =</span> (cty <span class="sc">+</span> hwy)<span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb61-3"><a href="data-preprocessing.html#cb61-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">eval_fuel =</span> <span class="fu">ifelse</span>(mean_fuel <span class="sc">&gt;</span> <span class="dv">20</span>, <span class="st">&#39;high&#39;</span>, <span class="st">&#39;low&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb61-4"><a href="data-preprocessing.html#cb61-4" aria-hidden="true" tabindex="-1"></a>  head</span></code></pre></div>
<pre><code>## # A tibble: 6 x 14
##   manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class 
##   &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 
## 1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compa…
## 2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compa…
## 3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compa…
## 4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compa…
## 5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compa…
## 6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compa…
## # … with 3 more variables: eval_hwy &lt;chr&gt;, mean_fuel &lt;dbl&gt;, eval_fuel &lt;chr&gt;</code></pre>
<p>If you want to use this data table continuously, you have to assign this table to the new variable like this.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="data-preprocessing.html#cb63-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="ot">&lt;-</span> df_mpg <span class="sc">%&gt;%</span></span>
<span id="cb63-2"><a href="data-preprocessing.html#cb63-2" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">mean_fuel =</span> (cty <span class="sc">+</span> hwy)<span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb63-3"><a href="data-preprocessing.html#cb63-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">eval_fuel =</span> <span class="fu">ifelse</span>(mean_fuel <span class="sc">&gt;</span> <span class="dv">20</span>, <span class="st">&#39;high&#39;</span>, <span class="st">&#39;low&#39;</span>))</span></code></pre></div>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="data-preprocessing.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(new_mpg)</span></code></pre></div>
<pre><code>## tibble [234 × 14] (S3: tbl_df/tbl/data.frame)
##  $ manufacturer: chr [1:234] &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; ...
##  $ model       : chr [1:234] &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; ...
##  $ displ       : num [1:234] 1.8 1.8 2 2 2.8 2.8 3.1 1.8 1.8 2 ...
##  $ year        : int [1:234] 1999 1999 2008 2008 1999 1999 2008 1999 1999 2008 ...
##  $ cyl         : int [1:234] 4 4 4 4 6 6 6 4 4 4 ...
##  $ trans       : chr [1:234] &quot;auto(l5)&quot; &quot;manual(m5)&quot; &quot;manual(m6)&quot; &quot;auto(av)&quot; ...
##  $ drv         : chr [1:234] &quot;f&quot; &quot;f&quot; &quot;f&quot; &quot;f&quot; ...
##  $ cty         : int [1:234] 18 21 20 21 16 18 18 18 16 20 ...
##  $ hwy         : int [1:234] 29 29 31 30 26 26 27 26 25 28 ...
##  $ fl          : chr [1:234] &quot;p&quot; &quot;p&quot; &quot;p&quot; &quot;p&quot; ...
##  $ class       : chr [1:234] &quot;compact&quot; &quot;compact&quot; &quot;compact&quot; &quot;compact&quot; ...
##  $ eval_hwy    : chr [1:234] &quot;Low&quot; &quot;Low&quot; &quot;High&quot; &quot;Low&quot; ...
##  $ mean_fuel   : num [1:234] 23.5 25 25.5 25.5 21 22 22.5 22 20.5 24 ...
##  $ eval_fuel   : chr [1:234] &quot;high&quot; &quot;high&quot; &quot;high&quot; &quot;high&quot; ...</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="data-preprocessing.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(new_mpg<span class="sc">$</span>mean_fuel)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="rbook_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="data-preprocessing.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(new_mpg<span class="sc">$</span>eval_fuel)</span></code></pre></div>
<p><img src="rbook_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<p>We can use more functions from <code>dplyr</code> package. The commonly used functions that except mutate we have seen already are <code>filter()</code>, <code>select()</code>, <code>arrange()</code>, <code>summarise()</code>. Let’s look at these one by one.</p>
</div>
<div id="dplyr-filter" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> dplyr :: filter</h2>
<p>First, <code>filter()</code> function. <code>filter</code> extracts rows by some conditions.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="data-preprocessing.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(new_mpg)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 14
##   manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class 
##   &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 
## 1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compa…
## 2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compa…
## 3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compa…
## 4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compa…
## 5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compa…
## 6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compa…
## # … with 3 more variables: eval_hwy &lt;chr&gt;, mean_fuel &lt;dbl&gt;, eval_fuel &lt;chr&gt;</code></pre>
<p>If you want to extract only <code>audi</code>, you can use <code>filter</code>.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="data-preprocessing.html#cb71-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb71-2"><a href="data-preprocessing.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(manufacturer<span class="sc">==</span><span class="st">&#39;audi&#39;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 18 x 14
##    manufacturer model    displ  year   cyl trans   drv     cty   hwy fl    class
##    &lt;chr&gt;        &lt;chr&gt;    &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;
##  1 audi         a4         1.8  1999     4 auto(l… f        18    29 p     comp…
##  2 audi         a4         1.8  1999     4 manual… f        21    29 p     comp…
##  3 audi         a4         2    2008     4 manual… f        20    31 p     comp…
##  4 audi         a4         2    2008     4 auto(a… f        21    30 p     comp…
##  5 audi         a4         2.8  1999     6 auto(l… f        16    26 p     comp…
##  6 audi         a4         2.8  1999     6 manual… f        18    26 p     comp…
##  7 audi         a4         3.1  2008     6 auto(a… f        18    27 p     comp…
##  8 audi         a4 quat…   1.8  1999     4 manual… 4        18    26 p     comp…
##  9 audi         a4 quat…   1.8  1999     4 auto(l… 4        16    25 p     comp…
## 10 audi         a4 quat…   2    2008     4 manual… 4        20    28 p     comp…
## 11 audi         a4 quat…   2    2008     4 auto(s… 4        19    27 p     comp…
## 12 audi         a4 quat…   2.8  1999     6 auto(l… 4        15    25 p     comp…
## 13 audi         a4 quat…   2.8  1999     6 manual… 4        17    25 p     comp…
## 14 audi         a4 quat…   3.1  2008     6 auto(s… 4        17    25 p     comp…
## 15 audi         a4 quat…   3.1  2008     6 manual… 4        15    25 p     comp…
## 16 audi         a6 quat…   2.8  1999     6 auto(l… 4        15    24 p     mids…
## 17 audi         a6 quat…   3.1  2008     6 auto(s… 4        17    25 p     mids…
## 18 audi         a6 quat…   4.2  2008     8 auto(s… 4        16    23 p     mids…
## # … with 3 more variables: eval_hwy &lt;chr&gt;, mean_fuel &lt;dbl&gt;, eval_fuel &lt;chr&gt;</code></pre>
<p>If you want to extract <code>audi a4</code> model,</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="data-preprocessing.html#cb73-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb73-2"><a href="data-preprocessing.html#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(manufacturer<span class="sc">==</span><span class="st">&#39;audi&#39;</span> <span class="sc">&amp;</span> model<span class="sc">==</span><span class="st">&#39;a4&#39;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 7 x 14
##   manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class 
##   &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 
## 1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compa…
## 2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compa…
## 3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compa…
## 4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compa…
## 5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compa…
## 6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compa…
## 7 audi         a4      3.1  2008     6 auto(av)   f        18    27 p     compa…
## # … with 3 more variables: eval_hwy &lt;chr&gt;, mean_fuel &lt;dbl&gt;, eval_fuel &lt;chr&gt;</code></pre>
<p>If you want to extract <code>audi a4</code> that have <code>Good for highway fuel economy</code>,</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="data-preprocessing.html#cb75-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb75-2"><a href="data-preprocessing.html#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(manufacturer<span class="sc">==</span><span class="st">&#39;audi&#39;</span> <span class="sc">&amp;</span> model<span class="sc">==</span><span class="st">&#39;a4&#39;</span> <span class="sc">&amp;</span> eval_hwy <span class="sc">==</span> <span class="st">&#39;High&#39;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 14
##   manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class 
##   &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 
## 1 audi         a4        2  2008     4 manual(m6) f        20    31 p     compa…
## # … with 3 more variables: eval_hwy &lt;chr&gt;, mean_fuel &lt;dbl&gt;, eval_fuel &lt;chr&gt;</code></pre>
<p>Yes, now you can choose the car that you want.</p>
</div>
<div id="dplyr-select" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> dplyr :: select</h2>
<p>Next, <code>select()</code> function.
We have used <code>filter()</code> to extract rows, now we’ll use <code>select()</code> to extract columns.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="data-preprocessing.html#cb77-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb77-2"><a href="data-preprocessing.html#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(manufacturer) <span class="sc">%&gt;%</span></span>
<span id="cb77-3"><a href="data-preprocessing.html#cb77-3" aria-hidden="true" tabindex="-1"></a>  head</span></code></pre></div>
<pre><code>## # A tibble: 6 x 1
##   manufacturer
##   &lt;chr&gt;       
## 1 audi        
## 2 audi        
## 3 audi        
## 4 audi        
## 5 audi        
## 6 audi</code></pre>
<p>Two or more columns can be extracted at the same time.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="data-preprocessing.html#cb79-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb79-2"><a href="data-preprocessing.html#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(manufacturer, class, hwy) <span class="sc">%&gt;%</span></span>
<span id="cb79-3"><a href="data-preprocessing.html#cb79-3" aria-hidden="true" tabindex="-1"></a>  head</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   manufacturer class     hwy
##   &lt;chr&gt;        &lt;chr&gt;   &lt;int&gt;
## 1 audi         compact    29
## 2 audi         compact    29
## 3 audi         compact    31
## 4 audi         compact    30
## 5 audi         compact    26
## 6 audi         compact    26</code></pre>
<p>And with pipe, we can extract some rows and some columns at the same time too.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="data-preprocessing.html#cb81-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb81-2"><a href="data-preprocessing.html#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(manufacturer, model, class, hwy) <span class="sc">%&gt;%</span></span>
<span id="cb81-3"><a href="data-preprocessing.html#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hwy <span class="sc">&gt;</span> <span class="dv">23</span>) <span class="sc">%&gt;%</span></span>
<span id="cb81-4"><a href="data-preprocessing.html#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 4
##    manufacturer model      class     hwy
##    &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;   &lt;int&gt;
##  1 audi         a4         compact    29
##  2 audi         a4         compact    29
##  3 audi         a4         compact    31
##  4 audi         a4         compact    30
##  5 audi         a4         compact    26
##  6 audi         a4         compact    26
##  7 audi         a4         compact    27
##  8 audi         a4 quattro compact    26
##  9 audi         a4 quattro compact    25
## 10 audi         a4 quattro compact    28</code></pre>
</div>
<div id="dplyr-arrange" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> dplyr :: arrange</h2>
<p>In case of numerical data(variable), we can order it. If data is categorical variable, It’ll return error.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="data-preprocessing.html#cb83-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb83-2"><a href="data-preprocessing.html#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(manufacturer, model, class, hwy) <span class="sc">%&gt;%</span></span>
<span id="cb83-3"><a href="data-preprocessing.html#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(hwy) <span class="sc">%&gt;%</span></span>
<span id="cb83-4"><a href="data-preprocessing.html#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 4
##    manufacturer model               class    hwy
##    &lt;chr&gt;        &lt;chr&gt;               &lt;chr&gt;  &lt;int&gt;
##  1 dodge        dakota pickup 4wd   pickup    12
##  2 dodge        durango 4wd         suv       12
##  3 dodge        ram 1500 pickup 4wd pickup    12
##  4 dodge        ram 1500 pickup 4wd pickup    12
##  5 jeep         grand cherokee 4wd  suv       12
##  6 chevrolet    k1500 tahoe 4wd     suv       14
##  7 jeep         grand cherokee 4wd  suv       14
##  8 chevrolet    c1500 suburban 2wd  suv       15
##  9 chevrolet    k1500 tahoe 4wd     suv       15
## 10 dodge        dakota pickup 4wd   pickup    15</code></pre>
<p>If you want to sort dataset from highest to lowest highway fuel economy, wrapping arrange variable by <code>desc()</code></p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="data-preprocessing.html#cb85-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb85-2"><a href="data-preprocessing.html#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(manufacturer, model, class, hwy) <span class="sc">%&gt;%</span></span>
<span id="cb85-3"><a href="data-preprocessing.html#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(hwy)) <span class="sc">%&gt;%</span></span>
<span id="cb85-4"><a href="data-preprocessing.html#cb85-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 4
##    manufacturer model      class        hwy
##    &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;      &lt;int&gt;
##  1 volkswagen   jetta      compact       44
##  2 volkswagen   new beetle subcompact    44
##  3 volkswagen   new beetle subcompact    41
##  4 toyota       corolla    compact       37
##  5 honda        civic      subcompact    36
##  6 honda        civic      subcompact    36
##  7 toyota       corolla    compact       35
##  8 toyota       corolla    compact       35
##  9 honda        civic      subcompact    34
## 10 honda        civic      subcompact    33</code></pre>
</div>
<div id="dplyr-summarise" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> dplyr :: summarise</h2>
<p>The function <code>summarise()</code> can be used to get basic statistics by specifying functions such as mean(), sd(), median(), etc.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="data-preprocessing.html#cb87-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb87-2"><a href="data-preprocessing.html#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(manufacturer<span class="sc">==</span><span class="st">&#39;audi&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a href="data-preprocessing.html#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_hwy =</span> <span class="fu">mean</span>(hwy))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   mean_hwy
##      &lt;dbl&gt;
## 1     26.4</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="data-preprocessing.html#cb89-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="data-preprocessing.html#cb91-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb91-2"><a href="data-preprocessing.html#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(manufacturer<span class="sc">==</span><span class="st">&#39;audi&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb91-3"><a href="data-preprocessing.html#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_hwy =</span> <span class="fu">mean</span>(hwy),</span>
<span id="cb91-4"><a href="data-preprocessing.html#cb91-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">max_hwy =</span> <span class="fu">max</span>(hwy),</span>
<span id="cb91-5"><a href="data-preprocessing.html#cb91-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">min_hwy =</span> <span class="fu">min</span>(hwy))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##   mean_hwy max_hwy min_hwy
##      &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;
## 1     26.4      31      23</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="data-preprocessing.html#cb93-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>But, this function can be more useful if used together with groupby.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="data-preprocessing.html#cb95-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb95-2"><a href="data-preprocessing.html#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(manufacturer) <span class="sc">%&gt;%</span></span>
<span id="cb95-3"><a href="data-preprocessing.html#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_hwy =</span> <span class="fu">mean</span>(hwy),</span>
<span id="cb95-4"><a href="data-preprocessing.html#cb95-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">max_hwy =</span> <span class="fu">max</span>(hwy),</span>
<span id="cb95-5"><a href="data-preprocessing.html#cb95-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">min_hwy =</span> <span class="fu">min</span>(hwy))</span></code></pre></div>
<pre><code>## # A tibble: 15 x 4
##    manufacturer mean_hwy max_hwy min_hwy
##    &lt;chr&gt;           &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;
##  1 audi             26.4      31      23
##  2 chevrolet        21.9      30      14
##  3 dodge            17.9      24      12
##  4 ford             19.4      26      15
##  5 honda            32.6      36      29
##  6 hyundai          26.9      31      24
##  7 jeep             17.6      22      12
##  8 land rover       16.5      18      15
##  9 lincoln          17        18      16
## 10 mercury          18        19      17
## 11 nissan           24.6      32      17
## 12 pontiac          26.4      28      25
## 13 subaru           25.6      27      23
## 14 toyota           24.9      37      15
## 15 volkswagen       29.2      44      23</code></pre>
<p>we can apply <code>arrange()</code> too.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="data-preprocessing.html#cb97-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb97-2"><a href="data-preprocessing.html#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(manufacturer) <span class="sc">%&gt;%</span></span>
<span id="cb97-3"><a href="data-preprocessing.html#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_hwy =</span> <span class="fu">mean</span>(hwy),</span>
<span id="cb97-4"><a href="data-preprocessing.html#cb97-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">max_hwy =</span> <span class="fu">max</span>(hwy),</span>
<span id="cb97-5"><a href="data-preprocessing.html#cb97-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">min_hwy =</span> <span class="fu">min</span>(hwy)) <span class="sc">%&gt;%</span></span>
<span id="cb97-6"><a href="data-preprocessing.html#cb97-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean_hwy))</span></code></pre></div>
<pre><code>## # A tibble: 15 x 4
##    manufacturer mean_hwy max_hwy min_hwy
##    &lt;chr&gt;           &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;
##  1 honda            32.6      36      29
##  2 volkswagen       29.2      44      23
##  3 hyundai          26.9      31      24
##  4 audi             26.4      31      23
##  5 pontiac          26.4      28      25
##  6 subaru           25.6      27      23
##  7 toyota           24.9      37      15
##  8 nissan           24.6      32      17
##  9 chevrolet        21.9      30      14
## 10 ford             19.4      26      15
## 11 mercury          18        19      17
## 12 dodge            17.9      24      12
## 13 jeep             17.6      22      12
## 14 lincoln          17        18      16
## 15 land rover       16.5      18      15</code></pre>
<p>We select 2 or more columns to <code>group_by</code> function like this.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="data-preprocessing.html#cb99-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb99-2"><a href="data-preprocessing.html#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(manufacturer, model) <span class="sc">%&gt;%</span></span>
<span id="cb99-3"><a href="data-preprocessing.html#cb99-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_hwy =</span> <span class="fu">mean</span>(hwy),</span>
<span id="cb99-4"><a href="data-preprocessing.html#cb99-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">max_hwy =</span> <span class="fu">max</span>(hwy),</span>
<span id="cb99-5"><a href="data-preprocessing.html#cb99-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">min_hwy =</span> <span class="fu">min</span>(hwy))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;manufacturer&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 38 x 5
## # Groups:   manufacturer [15]
##    manufacturer model              mean_hwy max_hwy min_hwy
##    &lt;chr&gt;        &lt;chr&gt;                 &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;
##  1 audi         a4                     28.3      31      26
##  2 audi         a4 quattro             25.8      28      25
##  3 audi         a6 quattro             24        25      23
##  4 chevrolet    c1500 suburban 2wd     17.8      20      15
##  5 chevrolet    corvette               24.8      26      23
##  6 chevrolet    k1500 tahoe 4wd        16.2      19      14
##  7 chevrolet    malibu                 27.6      30      26
##  8 dodge        caravan 2wd            22.4      24      17
##  9 dodge        dakota pickup 4wd      17        19      12
## 10 dodge        durango 4wd            16        18      12
## # … with 28 more rows</code></pre>
<p>and apply <code>filter()</code> too.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="data-preprocessing.html#cb102-1" aria-hidden="true" tabindex="-1"></a>new_mpg <span class="sc">%&gt;%</span></span>
<span id="cb102-2"><a href="data-preprocessing.html#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(manufacturer, model) <span class="sc">%&gt;%</span></span>
<span id="cb102-3"><a href="data-preprocessing.html#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_hwy =</span> <span class="fu">mean</span>(hwy),</span>
<span id="cb102-4"><a href="data-preprocessing.html#cb102-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">max_hwy =</span> <span class="fu">max</span>(hwy),</span>
<span id="cb102-5"><a href="data-preprocessing.html#cb102-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">min_hwy =</span> <span class="fu">min</span>(hwy)) <span class="sc">%&gt;%</span></span>
<span id="cb102-6"><a href="data-preprocessing.html#cb102-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(manufacturer<span class="sc">==</span><span class="st">&#39;audi&#39;</span> <span class="sc">|</span> manufacturer<span class="sc">==</span><span class="st">&#39;hyundai&#39;</span>)</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;manufacturer&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 5 x 5
## # Groups:   manufacturer [2]
##   manufacturer model      mean_hwy max_hwy min_hwy
##   &lt;chr&gt;        &lt;chr&gt;         &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;
## 1 audi         a4             28.3      31      26
## 2 audi         a4 quattro     25.8      28      25
## 3 audi         a6 quattro     24        25      23
## 4 hyundai      sonata         27.7      31      26
## 5 hyundai      tiburon        26        29      24</code></pre>
</div>
<div id="dplyr-left_join" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> dplyr :: left_join</h2>
<p><code>dplyr</code> package contain <code>join</code> functions. First, we try <code>left_join()</code> for our custom data.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="data-preprocessing.html#cb105-1" aria-hidden="true" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;Jennie&#39;</span>, <span class="st">&#39;Tom&#39;</span>, <span class="st">&#39;Minsu&#39;</span>, <span class="st">&#39;Jay&#39;</span>, <span class="st">&#39;Bob&#39;</span>)</span>
<span id="cb105-2"><a href="data-preprocessing.html#cb105-2" aria-hidden="true" tabindex="-1"></a>classes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;A&#39;</span>,<span class="st">&#39;B&#39;</span>,<span class="st">&#39;C&#39;</span>,<span class="st">&#39;D&#39;</span>,<span class="st">&#39;E&#39;</span>)</span>
<span id="cb105-3"><a href="data-preprocessing.html#cb105-3" aria-hidden="true" tabindex="-1"></a>keys <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;JN&#39;</span>, <span class="st">&#39;T&#39;</span>, <span class="st">&#39;M&#39;</span>, <span class="st">&#39;J&#39;</span>, <span class="st">&#39;B&#39;</span>)</span>
<span id="cb105-4"><a href="data-preprocessing.html#cb105-4" aria-hidden="true" tabindex="-1"></a>heights <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">155</span>, <span class="dv">190</span>, <span class="dv">165</span>, <span class="dv">177</span>, <span class="dv">180</span>)</span>
<span id="cb105-5"><a href="data-preprocessing.html#cb105-5" aria-hidden="true" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">57</span>, <span class="dv">101</span>, <span class="dv">64</span>, <span class="dv">80</span>, <span class="dv">88</span>)</span>
<span id="cb105-6"><a href="data-preprocessing.html#cb105-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-7"><a href="data-preprocessing.html#cb105-7" aria-hidden="true" tabindex="-1"></a>class_info <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(students, classes)</span>
<span id="cb105-8"><a href="data-preprocessing.html#cb105-8" aria-hidden="true" tabindex="-1"></a>students_info <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(students, keys, heights, weights)</span>
<span id="cb105-9"><a href="data-preprocessing.html#cb105-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-10"><a href="data-preprocessing.html#cb105-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(class_info)</span></code></pre></div>
<pre><code>##   students classes
## 1   Jennie       A
## 2      Tom       B
## 3    Minsu       C
## 4      Jay       D
## 5      Bob       E</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="data-preprocessing.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(students_info)</span></code></pre></div>
<pre><code>##   students keys heights weights
## 1   Jennie   JN     155      57
## 2      Tom    T     190     101
## 3    Minsu    M     165      64
## 4      Jay    J     177      80
## 5      Bob    B     180      88</code></pre>
<p>If we have to combine this two table, We need some “point”s. This means some “column”s that two table have in common. In this example, <code>students</code> column is that.</p>
<p>Let’s combine datasets by Setting <code>students</code> column as a point.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="data-preprocessing.html#cb109-1" aria-hidden="true" tabindex="-1"></a>all_info <span class="ot">&lt;-</span> <span class="fu">left_join</span>(class_info, students_info, <span class="at">by=</span><span class="st">&#39;students&#39;</span>)</span>
<span id="cb109-2"><a href="data-preprocessing.html#cb109-2" aria-hidden="true" tabindex="-1"></a>all_info</span></code></pre></div>
<pre><code>##   students classes keys heights weights
## 1   Jennie       A   JN     155      57
## 2      Tom       B    T     190     101
## 3    Minsu       C    M     165      64
## 4      Jay       D    J     177      80
## 5      Bob       E    B     180      88</code></pre>
</div>
<div id="dplyr-right_join" class="section level2" number="2.8">
<h2><span class="header-section-number">2.8</span> dplyr :: right_join</h2>
<p>What if we use <code>right_join()</code>?
In this table, it’s same.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="data-preprocessing.html#cb111-1" aria-hidden="true" tabindex="-1"></a>all_info2 <span class="ot">&lt;-</span> <span class="fu">right_join</span>(class_info, students_info, <span class="at">by=</span><span class="st">&#39;students&#39;</span>)</span>
<span id="cb111-2"><a href="data-preprocessing.html#cb111-2" aria-hidden="true" tabindex="-1"></a>all_info2</span></code></pre></div>
<pre><code>##   students classes keys heights weights
## 1   Jennie       A   JN     155      57
## 2      Tom       B    T     190     101
## 3    Minsu       C    M     165      64
## 4      Jay       D    J     177      80
## 5      Bob       E    B     180      88</code></pre>
<p>Because left table(class_info) and right rable(students_info) have same variable(students).</p>
<p>If one side has Na in <code>students</code> column, the result will be different.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="data-preprocessing.html#cb113-1" aria-hidden="true" tabindex="-1"></a>students_info2 <span class="ot">&lt;-</span> students_info[<span class="sc">-</span><span class="dv">1</span>,]</span>
<span id="cb113-2"><a href="data-preprocessing.html#cb113-2" aria-hidden="true" tabindex="-1"></a>students_info2</span></code></pre></div>
<pre><code>##   students keys heights weights
## 2      Tom    T     190     101
## 3    Minsu    M     165      64
## 4      Jay    J     177      80
## 5      Bob    B     180      88</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="data-preprocessing.html#cb115-1" aria-hidden="true" tabindex="-1"></a>all_info3 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(class_info, students_info2, <span class="at">by=</span><span class="st">&#39;students&#39;</span>)</span>
<span id="cb115-2"><a href="data-preprocessing.html#cb115-2" aria-hidden="true" tabindex="-1"></a>all_info3</span></code></pre></div>
<pre><code>##   students classes keys heights weights
## 1   Jennie       A &lt;NA&gt;      NA      NA
## 2      Tom       B    T     190     101
## 3    Minsu       C    M     165      64
## 4      Jay       D    J     177      80
## 5      Bob       E    B     180      88</code></pre>
<p>let’s see this. We have founded 3 NA values. It’s bacause students_info2 didn’t have the Jennie’s informatino(row)
But,</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="data-preprocessing.html#cb117-1" aria-hidden="true" tabindex="-1"></a>all_info4 <span class="ot">&lt;-</span> <span class="fu">right_join</span>(class_info, students_info2, <span class="at">by=</span><span class="st">&#39;students&#39;</span>)</span>
<span id="cb117-2"><a href="data-preprocessing.html#cb117-2" aria-hidden="true" tabindex="-1"></a>all_info4</span></code></pre></div>
<pre><code>##   students classes keys heights weights
## 1      Tom       B    T     190     101
## 2    Minsu       C    M     165      64
## 3      Jay       D    J     177      80
## 4      Bob       E    B     180      88</code></pre>
<p>If we have chosen <code>right_join()</code> at this moment, we can get different result like this.
It’s because students_info2 didn’t have the Jennie’s informatino(row). Same.</p>
<p><code>right_join()</code> receives two inputs like <code>left_join()</code>, and joins tables based on the right (second) input.</p>
</div>
<div id="dplyr-inner_join" class="section level2" number="2.9">
<h2><span class="header-section-number">2.9</span> dplyr :: inner_join</h2>
<p>How can we join tables if we met all of tables are have <code>NA</code> at base column of reference?
Like this case,</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="data-preprocessing.html#cb119-1" aria-hidden="true" tabindex="-1"></a>class_info2 <span class="ot">&lt;-</span> class_info[<span class="sc">-</span><span class="dv">2</span>,]</span>
<span id="cb119-2"><a href="data-preprocessing.html#cb119-2" aria-hidden="true" tabindex="-1"></a>class_info2</span></code></pre></div>
<pre><code>##   students classes
## 1   Jennie       A
## 3    Minsu       C
## 4      Jay       D
## 5      Bob       E</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="data-preprocessing.html#cb121-1" aria-hidden="true" tabindex="-1"></a>all_info4 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(class_info2, students_info2, <span class="at">by=</span><span class="st">&#39;students&#39;</span>)</span>
<span id="cb121-2"><a href="data-preprocessing.html#cb121-2" aria-hidden="true" tabindex="-1"></a>all_info4</span></code></pre></div>
<pre><code>##   students classes keys heights weights
## 1   Jennie       A &lt;NA&gt;      NA      NA
## 2    Minsu       C    M     165      64
## 3      Jay       D    J     177      80
## 4      Bob       E    B     180      88</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="data-preprocessing.html#cb123-1" aria-hidden="true" tabindex="-1"></a>all_info5 <span class="ot">&lt;-</span> <span class="fu">right_join</span>(class_info2, students_info2, <span class="at">by=</span><span class="st">&#39;students&#39;</span>)</span>
<span id="cb123-2"><a href="data-preprocessing.html#cb123-2" aria-hidden="true" tabindex="-1"></a>all_info5</span></code></pre></div>
<pre><code>##   students classes keys heights weights
## 1    Minsu       C    M     165      64
## 2      Jay       D    J     177      80
## 3      Bob       E    B     180      88
## 4      Tom    &lt;NA&gt;    T     190     101</code></pre>
<p>Yes, returns have <code>NA</code> all as expected.
But we want to get result that without missing value. In this case, we can use <code>inner_join()</code></p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="data-preprocessing.html#cb125-1" aria-hidden="true" tabindex="-1"></a>all_info6 <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(class_info2, students_info2, <span class="at">by=</span><span class="st">&#39;students&#39;</span>)</span>
<span id="cb125-2"><a href="data-preprocessing.html#cb125-2" aria-hidden="true" tabindex="-1"></a>all_info6</span></code></pre></div>
<pre><code>##   students classes keys heights weights
## 1    Minsu       C    M     165      64
## 2      Jay       D    J     177      80
## 3      Bob       E    B     180      88</code></pre>
</div>
<div id="dplyr-full_join" class="section level2" number="2.10">
<h2><span class="header-section-number">2.10</span> dplyr :: full_join</h2>
<p>Conversely, if we want to display all values together even if there are missing values in left or right, we can use <code>full_join()</code></p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="data-preprocessing.html#cb127-1" aria-hidden="true" tabindex="-1"></a>all_info7 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(class_info2, students_info2, <span class="at">by=</span><span class="st">&#39;students&#39;</span>)</span>
<span id="cb127-2"><a href="data-preprocessing.html#cb127-2" aria-hidden="true" tabindex="-1"></a>all_info7</span></code></pre></div>
<pre><code>##   students classes keys heights weights
## 1   Jennie       A &lt;NA&gt;      NA      NA
## 2    Minsu       C    M     165      64
## 3      Jay       D    J     177      80
## 4      Bob       E    B     180      88
## 5      Tom    &lt;NA&gt;    T     190     101</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exploratory-data-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["rbook.pdf", "rbook.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
